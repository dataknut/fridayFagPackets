---
title: "GDP & emissions - degrowthing or decoupling?"
author: "Ben Anderson & Tom Rushby"
date: "2022-10-06"
date-modified: "`r Sys.time()`"
format: 
  html:
    self-contained: true
    toc: true
    code-fold: true
editor: visual
---

```{r}
#| label: setup
#| echo: false
#| warning: false
library(data.table)
library(here)
library(ggplot2)
library(skimr)
```

# What's all this about de-growth?

\<sigh\>

# Data

Downloaded from the awesome [OurWorldInData](https://ourworldindata.org/grapher/co2-emissions-and-gdp?country=~GBR).

```{r}
#| label: loasdData

dt_abs <- data.table::fread(here::here("data", "co2-emissions-and-gdp.csv"))
dt_pc <- data.table::fread(here::here("data", "co2-emissions-and-gdp-per-capita.csv"))

```

# UK: absolute GDP & emissions

First we'll try production emissions.

```{r}
#| label: fig-ukPlotProd
#| fig-cap: UK GDP vs production emissions over time.
#| warning: false

plotDT <- dt_abs[Entity == "United Kingdom"]

ggplot2::ggplot(plotDT, aes(y = as.numeric(`GDP, PPP (constant 2017 international $)`)/1000000000, 
                            x = as.numeric(`Annual CO2 emissions`)/1000000,
                            alpha = Year)) +
  geom_point() +
  labs(x = "Annual CO2 emissions (production-based, gT)",
       y = "GDP $bn (constant 2017 $)")
```

Next we'll try consumption emissions.

Note that 2020 consumption-based emissions data is missing so you don't see the downtick

```{r}
#| label: fig-ukPlotCons
#| fig-cap: UK GDP vs consumption emissions over time.
#| warning: false
plotDT <- dt_abs[Entity == "United Kingdom"]

ggplot2::ggplot(plotDT, aes(y = as.numeric(`GDP, PPP (constant 2017 international $)`)/1000000000, 
                            x = as.numeric(`Annual consumption-based CO2 emissions`)/1000000,
                            alpha = Year)) +
  geom_point() +
  labs(x = "Annual CO2 emissions (consumption-based, gT)",
       y = "GDP $bn (constant 2017 $)")
```

# UK: per capita GDP & emissions

Since we'll be dividing everything pairwise by the same denominator, nothing much should change...

First we'll try production emissions.

```{r}
#| label: fig-ukPlotProdPcc
#| fig-cap: UK GDP vs production emissions over time.
#| warning: false

plotDT <- dt_pc[Entity == "United Kingdom"]

ggplot2::ggplot(plotDT, aes(y = as.numeric(`GDP per capita, PPP (constant 2017 international $)`), 
                            x = as.numeric(`Annual CO2 emissions (per capita)`),
                            alpha = Year)) +
  geom_point() +
  labs(x = "Annual CO2 emissions per capita (production-based, T)",
       y = "GDP per capita (constant 2017 $)")
```

Next we'll try consumption emissions.

Note that 2020 consumption-based emissions data is missing so you don't see the downtick

```{r}
#| label: fig-ukPlotConsPcc
#| fig-cap: UK GDP vs consumption emissions over time.
#| warning: false
plotDT <- dt_pc[Entity == "United Kingdom"]

ggplot2::ggplot(plotDT, aes(y = as.numeric(`GDP per capita, PPP (constant 2017 international $)`), 
                            x = as.numeric(`Annual consumption-based CO2 emissions (per capita)`),
                            alpha = Year)) +
  geom_point() +
  labs(x = "Annual CO2 emissions per capita (consumption-based, T)",
       y = "GDP per capita (constant 2017 $)")
```

# Whom do we love?

[quarto](https://quarto.org/)

[data.table](https://www.rdocumentation.org/packages/data.table/versions/1.14.2)

[ggplot2](https://www.rdocumentation.org/packages/ggplot2/versions/3.3.6)

[here](https://www.rdocumentation.org/packages/here/versions/1.0.1)

[skimr](https://www.rdocumentation.org/packages/skimr/versions/2.1.4)

# Data descriptions

Check

Skim the absolute data:

```{r}
#| label: skimAbs
skimr::skim(dt_abs)
```

Skim the per capita data

```{r}
#| label: skimPC
skimr::skim(dt_pc)
```

```{r}
#| label: runToHere
# hidden chunk
```
